<section class="container centered">
  <div class="container">
    <!-- Link to Apple Purchases -->
    <div class="apple-purchases">
        <h2>Apple Purchases</h2>
        <p>Explore our selection and request an apple purchase orday today!</p>
        <a href="apple-purchase-request/" class="btn">Shop Now</a>
    </div>

    <!-- Upcoming Craft Shows -->
    <div class="craft-shows">
        <h2>Upcoming Craft Shows</h2>
        <p>Join us at our upcoming events and experience the magic of our apples in person.</p>
        <div class="shows-grid">
          {{ range sort .Site.Data.shows "startDate" }}
          {{ if ge .startDate (now.Format "2006-01-02") }}
            <div class="show-card">
                <a href="{{ .url }}">
                  <div class="show-image" style="background-image: url('{{ .image }}');">
                    <div class="show-info">
                        <h3>{{ .name }}</h3>
                        <p>
                          {{ if .endDate }}
                            {{ dateFormat "January 2, 2006" .startDate }} â†’ {{ dateFormat "January 2, 2006" .endDate }}
                          {{ else }}
                            {{ dateFormat "January 2, 2006" .startDate }}
                          {{ end }}
                        </p>
                    </div>
                  </div>
                </a>
            </div>
          {{ end }}
        {{ end }}
     
        </div>
    </div>
</div>

<!-- Social Feeds (Instagram & Facebook) -->
<div class="social-feeds">
  <div class="feed instagram-feed">
    <blockquote
      class="instagram-media"
      data-instgrm-permalink="https://www.instagram.com/how_boutthemapples/?utm_source=ig_embed&amp;utm_campaign=loading"
      data-instgrm-version="14"
      style="height: 500px;"
    ></blockquote>
    <script async src="//www.instagram.com/embed.js"></script>
  </div>

  <div class="feed facebook-feed">
    <iframe
      src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FHowBoutDemApples&tabs=timeline&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true"
      scrolling="no"
      frameborder="0"
      allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
      style="width: 100%;"
    ></iframe>
  </div>
</div>
</section>

<style>
/* 1) Stack everything vertically inside .centered */
  .container.centered {
    display: flex;
    flex-direction: column;
  }

.social-feeds {
  display: grid;
  /* two equal columns */
  grid-template-columns: repeat(2, minmax(0, 1fr));
  /* each row will auto-size to the tallest content */
  grid-auto-rows: auto;
  gap: 2rem;
  margin-top: 2rem;
}

/* each panel still flexes so its embed can grow and scroll */
.feed {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.instagram-feed blockquote,
.facebook-feed iframe {
  flex: 1 1 auto;
  width: 100% !important;
  height: auto !important;
  overflow: auto;
}

  .show-card {
    position: relative;
    overflow: hidden;
    padding-bottom: 10px;
}

.show-image {
    display: flex;
    justify-content: center;
    align-items: center;
    background-size: cover;
    background-position: center;
    height: 200px; /* Adjust the height as needed */
}

.show-info {
    text-align: center;
    width: 100%;
    height: 100%;
    background-color: #00530380; /* Semi-transparent background for better readability */
    padding: 10px;
    h3, p {
      color: #ffeed7;
      background-color: #046e3b;
      width: max-content;
    }
}
</style>